// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.793
package components

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"github.com/jmarren/deepfried/services"
	"github.com/jmarren/deepfried/util"
)

/*
	NEEDS
	- Bio
	- ProfilePhotoSrc
	- Username
*/

func EditProfileError(msg string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<div id=\"edit-profile-error\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(msg)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `components/EditProfile.templ`, Line: 16, Col: 35}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("</div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return templ_7745c5c3_Err
	})
}

func EditProfile(user *services.User, profilePhotoSrc string, bio string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var3 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var3 == nil {
			templ_7745c5c3_Var3 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<head hx-head=\"append\"><link href=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var4 string
		templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(util.GetStaticSrc("css/edit_profile.css"))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `components/EditProfile.templ`, Line: 21, Col: 56}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\" rel=\"stylesheet\" type=\"text/css\"><script src=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var5 string
		templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(util.GetStaticSrc("js/edit_profile.js"))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `components/EditProfile.templ`, Line: 22, Col: 55}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\"></script></head><form id=\"edit-profile-form\" class=\"component-fade-in\" hx-on:click=\"event.stopPropagation()\" hx-patch=\"/users\" hx-target=\"#page-content\" hx-encoding=\"multipart/form-data\"><div id=\"profile-photo-container\"><div id=\"change-profile-button-container\"><label class=\"input-label\" for=\"profile-photo-input\">change</label> <input type=\"file\" name=\"profile-photo-input\" id=\"profile-photo-input\" hx-on:input=\"showNewProfileImage(this, event)\" accept=\"image/*\"></div><img width=\"120\" height=\"120\" src=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var6 string
		templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(profilePhotoSrc)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `components/EditProfile.templ`, Line: 38, Col: 54}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\" class=\"profile-photo\"></div><div class=\"input-container\"><label for=\"username\">username</label> <input type=\"text\" class=\"input-field\" name=\"username\" placeholder=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var7 string
		templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(user.Username)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `components/EditProfile.templ`, Line: 42, Col: 85}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\"></div><div class=\"input-container\"><label for=\"bio\">bio</label> <textarea type=\"text\" class=\"input-field\" name=\"bio\" placeholder=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var8 string
		templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(bio)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `components/EditProfile.templ`, Line: 46, Col: 73}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\"></textarea></div><div class=\"input-container\" id=\"profile-photo-input-container\"><div id=\"profile-photo-input-left\"></div><div id=\"selected-photo-container\"><img id=\"selected-photo\"></div></div><div id=\"edit-profile-error\"></div><div id=\"edit-profile-buttons\"><button id=\"cancel-edit-profile-button\" hx-on:click=\"event.preventDefault(); htmx.find(&#39;#modal&#39;).innerHTML = &#39;&#39;\">Cancel</button> <button id=\"save-changes-button\" type=\"submit\">Save</button></div></form>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return templ_7745c5c3_Err
	})
}

var EditProfileHeadOnce = templ.NewOnceHandle()

func EditProfileHead() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var9 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var9 == nil {
			templ_7745c5c3_Var9 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var10 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<script id=\"edit-profile-script\">\n\n\t\tfunction setEditProfileError(msg) {\n\t\t\thtmx.find(\"#edit-profile-error\").innerHTML = msg\n\t\t}\n\n\t\tfunction clearEditProfileError() {\n\t\t\thtmx.find(\"#edit-profile-error\").innerHTML = \"\"\n\t\t}\n\n\t\tfunction showNewProfileImage(elt, e) {\n\t\t\tconst file = elt.files[0]\n\t\t\tconsole.log(file)\n\t\t\tconsole.log(file.type)\n\t\t\tif (file.type.indexOf(\"image/\") !== 0) {\n\t\t\t\tsetEditProfileError(\"profile photo must be an image\")\n\t\t\t} else if (file.size >= 1000000) {\n\t\t\t\tsetEditProfileError(\"profile photo must be less than 1mb\")\n\t\t\t} else {\n\t\t\t\tclearEditProfileError() \n\t\t\t} \n\t\t\tconst fileReader = new FileReader()\n\t\t\tfileReader.readAsDataURL(file)\n\t\t\tconst imageElt = htmx.find(\"#profile-photo-container img\")\n\t\t\thtmx.on(fileReader, \"load\", () => {\n\t\t\t\timageElt.src = fileReader.result\n\t\t\t\timageElt.className = \"profile-photo\"\n\t\t\t})\n\t\t}\n\t</script> <style id=\"edit-profile-styles\">\n#edit-profile-form {\n\toverflow: hidden;\n\twidth: fit-content;\n\tdisplay: flex;\n\t flex-direction: column;\n\t align-items: center;\n\t justify-content: center;\n\tgap: 15px;\n\tpadding: 30px 40px 20px 40px;\n\t background-color: #ffffff;\n\t box-shadow: 0px 106px 42px rgba(0, 0, 0, 0.01),\n\t\t 0px 59px 36px rgba(0, 0, 0, 0.05), 0px 26px 26px rgba(0, 0, 0, 0.09),\n\t\t 0px 7px 15px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);\n\t border-radius: 11px;\n\t font-family: \"Inter\", sans-serif;\n}\n\n#profile-photo-container {\n\taspect-ratio: 1;\n\tmax-height: 120px;\n\tmax-width: 120px;\n\tposition: relative;\n}\n\n\n#edit-profile-form #profile-photo-container:hover img {\n\tfilter: blur(1px);\n}\n\n#edit-profile-form #profile-photo-container #change-profile-button-container {\n\twidth: 100%;\n\theight: 100%;\n\tposition: absolute;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n#edit-profile-form #profile-photo-container:hover label {\n\tvisibility: visible;\n\tz-index: 2;\n}\n\n\t\t\n  #edit-profile-form .input-container {\n    width: 100%;\n    height: fit-content;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n  }\n\n\n #edit-profile-form .input-label {\n    font-size: 0.75rem;\n    color: #8B8E98;\n    font-weight: 600;\n  }\n\n   \n #edit-profile-form textarea.input-field {\n\tpadding: 10px 0 0 10px;\n } \n\n #edit-profile-form .input-field {\n    width: auto;\n    height: 40px;\n    padding: 0 0 0 10px;\n    border-radius: 7px;\n    outline: none;\n    border: 1px solid #e5e5e5;\n    filter: drop-shadow(0px 1px 0px #efefef) drop-shadow(0px 1px 0.5px rgba(239, 239, 239, 0.5));\n    transition: all 0.3s cubic-bezier(0.15, 0.83, 0.66, 1);\n  }\n\n #edit-profile-form .input-field:focus {\n    border: 1px solid transparent;\n    box-shadow: 0px 0px 0px 2px #242424;\n    background-color: transparent;\n  }\n\n#edit-profile-form label[for=\"profile-photo-input\"] {\n    font-size: 0.75rem;\n    color: #8B8E98;\n    padding: 2px 4px;\n    height: 40px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-weight: 600;\n    text-align: center;\n    border-radius: 7px;\n    outline: none;\n    cursor: pointer;\n    background-color: white;\n    border: 1px solid white;\n    filter: drop-shadow(0px 1px 0px #efefef) drop-shadow(0px 1px 0.5px rgba(239, 239, 239, 0.5));\n    transition: all 0.3s cubic-bezier(0.15, 0.83, 0.66, 1);\n  }\n\n #edit-profile-form label[for=\"profile-photo-input\"]:hover {\n    background-color: #eef0ed;\n  }\n\n #edit-profile-form input[type=\"file\"] {\n    opacity: 0%;\n    width: 0;\n    height: 0;\n  }\n\n #edit-profile-form #profile-photo-input-container { \n\tdisplay: flex;\n\tflex-direction: row;\n\theight: 40px;\n\tgap: 20px;\n  }\n\n #edit-profile-form #selected-photo-container {\n\taspect-ratio: 1;\n\theight: 100%;\n\tmax-width: 20px;\n  }\n\n #edit-profile-form #profile-photo-input-left {\n\tflex-grow: 1;\n  }\n\n  #edit-profile-form #edit-profile-buttons {\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 4px;\n\twidth: 100%;\n  } \n\n\n  #edit-profile-form #edit-profile-buttons button {\n\tborder-radius: 5px;\n\tmin-width: 8em;\n\tpadding-top: 10px;\n\tpadding-bottom: 10px;\n\tflex-grow: 1;\n\ttext-align: center;\n\n}\n\n  #edit-profile-form #edit-profile-buttons #save-changes-button {\n\tbackground-color: var(--dark-gray);\n\tcolor: white;\n\tborder: 2px solid var(--dark-gray);\n}\n\n\n  #edit-profile-form #edit-profile-buttons #save-changes-button:hover {\n\tbackground-color: darkgray;\n\tcolor: var(--dark-gray);\n  }\n\n  #edit-profile-form #edit-profile-buttons #cancel-edit-profile-button {\n\tbackground-color: white;\n\tborder: 2px solid var(--dark-gray);\n\tcolor: black;\n  }\n\n\n  #edit-profile-form #edit-profile-buttons #cancel-edit-profile-button:hover {\n\tbackground-color: lightgray;\n\tborder: 2px solid var(--dark-gray);\n\tcolor: black;\n  }\n\n\t</style>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return templ_7745c5c3_Err
		})
		templ_7745c5c3_Err = EditProfileHeadOnce.Once().Render(templ.WithChildren(ctx, templ_7745c5c3_Var10), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return templ_7745c5c3_Err
	})
}

var _ = templruntime.GeneratedTemplate
